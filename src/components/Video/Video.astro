---
interface Props {
  data: Video
}

import { parse } from "engine/util/markdown"

const { videoUrl, transcript, title } = Astro.props.data

const videoId = videoUrl.split("v=")[1]

const parsedText = await parse(transcript)
---

<div class="wrap">
  <iframe
    class="coop-c-video__frame"
    src=`https://www.youtube.com/embed/${videoId}`
    allow="autoplay; encrypted-media"
    allowfullscreen></iframe>

  <p set:html={parsedText} />
</div>
